<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>May baby</title>
  <meta name="description" content="T·ªß ƒë·ªì nh·ªè c·ªßa May baby: t√¨m ki·∫øm nhanh, l·ªçc danh m·ª•c, c√≥ ·∫£nh thumbnail." />
  <meta name="theme-color" content="#ff5a1f" />
  <style>
    :root{ --bg:#0f1115; --card:#151922; --muted:#9aa4ad; --text:#e8edf2; --brand:#ff5a1f; }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    header{position:sticky;top:0;z-index:10;background:rgba(21,25,34,.7);backdrop-filter:saturate(180%) blur(10px);border-bottom:1px solid #242a36}
    .container{max-width:1000px;margin:0 auto;padding:16px}
    h1{margin:0;font-size:22px}
    .muted{color:var(--muted);font-size:13px}
    .controls{display:grid;grid-template-columns:1fr 200px;gap:10px;margin-top:12px}
    input,select,button{height:40px;border-radius:12px;border:1px solid #2a3242;background:#0f131b;color:var(--text);padding:0 12px;outline:none}
    input:focus,select:focus,button:focus{border-color:#39465e;box-shadow:0 0 0 3px #39465e55}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;margin-top:16px}
    .card{background:var(--card);border:1px solid #232a38;border-radius:16px;overflow:hidden;display:flex;flex-direction:column}
    .card img{width:100%;aspect-ratio:1/1;object-fit:cover;background:#0f131b}
    .card-inner{padding:12px}
    .title{font-weight:600;margin:0 0 8px;font-size:15px}
    .tag{display:inline-block;padding:2px 8px;border:1px solid #2a3242;border-radius:999px;font-size:12px;color:var(--muted);margin-bottom:8px}
    .row{display:flex;gap:8px;margin-top:10px}
    .btn{flex:1;height:40px;border-radius:12px;border:1px solid #2a3242;background:#0f131b;color:var(--text);cursor:pointer}
    .btn-primary{background:linear-gradient(180deg,#ff7a1f,#ff5a1f);border:none}
    .footer{opacity:.8;text-align:center;padding:28px 12px;color:var(--muted);font-size:13px}
    .empty{border:1px dashed #2a3242;border-radius:16px;padding:20px;text-align:center;color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>üå∏ May baby</h1>
      <div class="muted">T·ªß ƒë·ªì nh·ªè c·ªßa May baby ‚Ä¢ T√¨m ki·∫øm nhanh ‚Ä¢ L·ªçc danh m·ª•c t·ª± ƒë·ªông ‚Ä¢ C√≥ ·∫£nh thumbnail</div>
      <div class="controls" role="search">
        <input id="q" type="search" placeholder="T√¨m theo t√™n s·∫£n ph·∫©m..." aria-label="T√¨m ki·∫øm s·∫£n ph·∫©m" />
        <select id="cat" aria-label="L·ªçc danh m·ª•c">
          <option value="">T·∫•t c·∫£ danh m·ª•c</option>
        </select>
      </div>
    </div>
  </header>

  <main class="container">
    <div id="list" class="grid" aria-live="polite"></div>
    <div id="empty" class="empty" style="display:none">Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m ph√π h·ª£p.</div>
  </main>

  <footer class="footer">
    ¬© <span id="y"></span> by May baby
  </footer>

  <script>
    // ======= D·ªÆ LI·ªÜU S·∫¢N PH·∫®M =======
    const PRODUCTS = [
      {
        name: "Set √°o babydoll k√®m qu·∫ßn short",
        url: "https://s.shopee.vn/8fIWlIato8",
        img: "images/103717cb-f17b-4fcf-bcd8-4af56b2c02f2 (1).jpeg",
        cat: "Th·ªùi trang n·ªØ"
      },
      {
        name: "Set √°o s∆° mi k√®m ch√¢n v√°y 2 t·∫ßng",
        url: "https://s.shopee.vn/9Urdl0TcvY",
        img: "images/dc07b0fe-57f1-4fcd-b490-467fe562c0ee.jpeg",
        cat: "Th·ªùi trang n·ªØ"
      },
      {
        name: "V√°y thi·∫øt k·∫ø tr·ªÖ vai g·∫Øn hoa c·ªï",
        url: "https://s.shopee.vn/5pyLOPNAzr",
        img: "images/277bd278-86b8-4b69-a144-d5287672511f.jpeg",
        cat: "Th·ªùi trang n·ªØ"
      },
      {
        name: "Set qu·∫ßn √°o croptop cardigan ch√¢n v√°y ng·∫Øn",
        url: "https://s.shopee.vn/3LH0Pv80M2",
        img: "images/c923971c-4657-4da2-b2c7-dc5b2d1eab80.jpeg",
        cat: "Th·ªùi trang n·ªØ"
      }
    ];

    // ======= BI·∫æN & TI·ªÜN √çCH =======
    const list = document.getElementById("list");
    const empty = document.getElementById("empty");
    const q = document.getElementById("q");
    const cat = document.getElementById("cat");
    const year = document.getElementById("y");
    if (year) year.textContent = new Date().getFullYear();

    const norm = (s) => (s || "").toString().normalize("NFD").replace(/\p{Diacritic}+/gu, "").toLowerCase().trim();
    const escapeHtml = (s) => (s || "").toString().replace(/[&<>'"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;',"'":'&#39;','"':'&quot;'}[c]));

    // ======= DANH M·ª§C =======
    function buildCategories(){
      const set = new Set(); for (const p of PRODUCTS) set.add((p.cat || "Kh√°c").trim());
      for (let i = cat.options.length - 1; i >= 1; i--) cat.remove(i);
      [...set].sort().forEach(label => { const o = document.createElement("option"); o.value = label; o.textContent = label; cat.appendChild(o); });
    }

    // ======= RENDER =======
    function render(items){
      list.innerHTML = "";
      if(items.length === 0){ empty.style.display = "block"; return; }
      empty.style.display = "none";

      for(const item of items){
        const card = document.createElement("article"); card.className = "card";
        const img = document.createElement("img");
        img.alt = item.name || "";
        // encodeURI ƒë·ªÉ x·ª≠ l√Ω t√™n file c√≥ d·∫•u c√°ch / d·∫•u ngo·∫∑c
        img.src = encodeURI(item.img);
        img.onerror = () => {
          img.onerror = null;
          img.src = 'data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" width="600" height="600"><rect width="100%" height="100%" fill="#0f131b"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#9aa4ad" font-family="Arial" font-size="22">Kh√¥ng t√¨m th·∫•y ·∫£nh</text></svg>';
        };
        card.appendChild(img);

        const inner = document.createElement("div");
        inner.className = "card-inner";
        inner.innerHTML = `
          <h2 class="title">${escapeHtml(item.name)}</h2>
          <span class="tag">${escapeHtml(item.cat || "Kh√°c")}</span>
          <div class="row">
            <a class="btn btn-primary" href="${encodeURI(item.url)}" target="_blank" rel="noopener">M·ªü Shopee</a>
            <button class="btn">Copy link</button>
          </div>`;
        const copyBtn = inner.querySelector("button");
        copyBtn.addEventListener("click", async () => {
          try{ await navigator.clipboard.writeText(item.url); copyBtn.textContent = "ƒê√£ copy ‚úì"; setTimeout(()=>copyBtn.textContent="Copy link", 1200); }
          catch{ alert("Kh√¥ng copy ƒë∆∞·ª£c, h√£y copy th·ªß c√¥ng."); }
        });

        card.appendChild(inner);
        list.appendChild(card);
      }
    }

    function applyFilter(){
      const keyword = norm(q?.value);
      const cate = norm(cat?.value || "");
      render(PRODUCTS.filter(p => norm(p.name).includes(keyword) && (!cate || norm(p.cat||"")===cate)));
    }

    buildCategories(); render(PRODUCTS);
    q?.addEventListener("input", applyFilter);
    cat?.addEventListener("change", applyFilter);
  </script>
</body>
</html>
